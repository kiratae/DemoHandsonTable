/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/hyperformula@0.1.3/es/interpreter/plugin/BooleanPlugin.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import"core-js/modules/es.symbol";import"core-js/modules/es.symbol.description";import"core-js/modules/es.symbol.iterator";import"core-js/modules/es.array.from";import"core-js/modules/es.array.iterator";import"core-js/modules/es.array.slice";import"core-js/modules/es.array.some";import"core-js/modules/es.function.name";import"core-js/modules/es.object.get-prototype-of";import"core-js/modules/es.object.to-string";import"core-js/modules/es.reflect.construct";import"core-js/modules/es.regexp.to-string";import"core-js/modules/es.string.iterator";import"core-js/modules/web.dom-collections.iterator";function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _createForOfIteratorHelper(r,e){var t;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var o=0,n=function(){};return{s:n,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){t=r[Symbol.iterator]()},n:function(){var r=t.next();return a=r.done,r},e:function(r){i=!0,l=r},f:function(){try{a||null==t.return||t.return()}finally{if(i)throw l}}}}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function _createClass(r,e,t){return e&&_defineProperties(r.prototype,e),t&&_defineProperties(r,t),r}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&_setPrototypeOf(r,e)}function _setPrototypeOf(r,e){return(_setPrototypeOf=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r})(r,e)}function _createSuper(r){var e=_isNativeReflectConstruct();return function(){var t,o=_getPrototypeOf(r);if(e){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(r,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(r):e}function _assertThisInitialized(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function _getPrototypeOf(r){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}import{CellError,ErrorType}from"../../Cell";import{AstNodeType}from"../../parser";import{coerceScalarToBoolean}from"../ArithmeticHelper";import{SimpleRangeValue}from"../InterpreterValue";import{FunctionPlugin}from"./FunctionPlugin";export var BooleanPlugin=function(r){_inherits(t,FunctionPlugin);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"literalTrue",value:function(r,e){return!(r.args.length>0)||new CellError(ErrorType.NA)}},{key:"literalFalse",value:function(r,e){return r.args.length>0&&new CellError(ErrorType.NA)}},{key:"conditionalIf",value:function(r,e){if(r.args.length>3||r.args.length<2)return new CellError(ErrorType.NA);if(r.args.some(function(r){return r.type===AstNodeType.EMPTY}))return new CellError(ErrorType.NUM);var t=this.evaluateAst(r.args[0],e);if(t instanceof SimpleRangeValue)return new CellError(ErrorType.VALUE);var o=coerceScalarToBoolean(t);return!0===o?this.evaluateAst(r.args[1],e):!1===o?void 0!==r.args[2]&&this.evaluateAst(r.args[2],e):o instanceof CellError?o:new CellError(ErrorType.VALUE)}},{key:"and",value:function(r,e){if(r.args.length<1)return new CellError(ErrorType.NA);if(r.args.some(function(r){return r.type===AstNodeType.EMPTY}))return new CellError(ErrorType.NUM);var t,o=!0,n=!1,l=_createForOfIteratorHelper(this.iterateOverScalarValues(r.args,e));try{for(l.s();!(t=l.n()).done;){var a=t.value,i=coerceScalarToBoolean(a);if(i instanceof CellError)return i;null!==i&&(o=o&&i,n=!0)}}catch(r){l.e(r)}finally{l.f()}return n?o:new CellError(ErrorType.VALUE)}},{key:"or",value:function(r,e){if(r.args.length<1)return new CellError(ErrorType.NA);if(r.args.some(function(r){return r.type===AstNodeType.EMPTY}))return new CellError(ErrorType.NUM);var t,o=null,n=_createForOfIteratorHelper(this.iterateOverScalarValues(r.args,e));try{for(n.s();!(t=n.n()).done;){var l=t.value,a=coerceScalarToBoolean(l);if(a instanceof CellError)return a;null!==a&&(o=o||a)}}catch(r){n.e(r)}finally{n.f()}return null===o?new CellError(ErrorType.VALUE):o}},{key:"not",value:function(r,e){if(1!==r.args.length)return new CellError(ErrorType.NA);if(r.args.some(function(r){return r.type===AstNodeType.EMPTY}))return new CellError(ErrorType.NUM);var t=this.evaluateAst(r.args[0],e);if(t instanceof SimpleRangeValue)return new CellError(ErrorType.VALUE);var o=coerceScalarToBoolean(t);return o instanceof CellError?o:!o}},{key:"xor",value:function(r,e){if(r.args.length<1)return new CellError(ErrorType.NA);if(r.args.some(function(r){return r.type===AstNodeType.EMPTY}))return new CellError(ErrorType.NUM);var t,o=0,n=!1,l=_createForOfIteratorHelper(this.iterateOverScalarValues(r.args,e));try{for(l.s();!(t=l.n()).done;){var a=t.value,i=coerceScalarToBoolean(a);if(i instanceof CellError)return i;!0===i?o++:!1===i&&(n=!0)}}catch(r){l.e(r)}finally{l.f()}return n||o>0?o%2==1:new CellError(ErrorType.VALUE)}},{key:"switch",value:function(r,e){if(r.args.length<3)return new CellError(ErrorType.NA);if(r.args.some(function(r){return r.type===AstNodeType.EMPTY}))return new CellError(ErrorType.NUM);var t,o=[],n=_createForOfIteratorHelper(r.args);try{for(n.s();!(t=n.n()).done;){var l=t.value,a=this.evaluateAst(l,e);if(a instanceof SimpleRangeValue)return new CellError(ErrorType.VALUE);o.push(a)}}catch(r){n.e(r)}finally{n.f()}var i=o.length;if(o[0]instanceof CellError)return o[0];for(var u=1;u+1<i;u+=2)if(!(o[u]instanceof CellError)&&0===this.interpreter.arithmeticHelper.compare(o[0],o[u]))return o[u+1];return u<i?o[u]:new CellError(ErrorType.NA)}},{key:"iferror",value:function(r,e){if(2!==r.args.length)return new CellError(ErrorType.NA);if(r.args.some(function(r){return r.type===AstNodeType.EMPTY}))return new CellError(ErrorType.NUM);var t=this.evaluateAst(r.args[0],e),o=this.evaluateAst(r.args[1],e);return t instanceof SimpleRangeValue||o instanceof SimpleRangeValue?new CellError(ErrorType.VALUE):t instanceof CellError?o:t}},{key:"ifna",value:function(r,e){if(2!==r.args.length)return new CellError(ErrorType.NA);if(r.args.some(function(r){return r.type===AstNodeType.EMPTY}))return new CellError(ErrorType.NUM);var t=this.evaluateAst(r.args[0],e),o=this.evaluateAst(r.args[1],e);return t instanceof SimpleRangeValue||o instanceof SimpleRangeValue?new CellError(ErrorType.VALUE):t instanceof CellError&&t.type===ErrorType.NA?o:t}},{key:"choose",value:function(r,e){if(r.args.length<2)return new CellError(ErrorType.NA);if(r.args.some(function(r){return r.type===AstNodeType.EMPTY}))return new CellError(ErrorType.NUM);var t,o=[],n=_createForOfIteratorHelper(r.args);try{for(n.s();!(t=n.n()).done;){var l=t.value,a=this.evaluateAst(l,e);if(a instanceof SimpleRangeValue)return new CellError(ErrorType.VALUE);o.push(a)}}catch(r){n.e(r)}finally{n.f()}var i=o.length;if(o[0]instanceof CellError)return o[0];var u=this.interpreter.arithmeticHelper.coerceToMaybeNumber(o[0]);return void 0===u||u!=Math.round(u)||u<1||u>=i?new CellError(ErrorType.NUM):o[u]}}]),t}();BooleanPlugin.implementedFunctions={TRUE:{method:"literalTrue"},FALSE:{method:"literalFalse"},IF:{method:"conditionalIf"},AND:{method:"and"},OR:{method:"or"},XOR:{method:"xor"},NOT:{method:"not"},SWITCH:{method:"switch"},IFERROR:{method:"iferror"},IFNA:{method:"ifna"},CHOOSE:{method:"choose"}};
//# sourceMappingURL=/sm/afe9a126ac8c8931ce530864f4c882acdd9df8cf8e081372eb496d618622e494.map