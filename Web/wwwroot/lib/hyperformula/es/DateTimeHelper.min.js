/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/hyperformula@0.1.3/es/DateTimeHelper.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import"core-js/modules/es.symbol";import"core-js/modules/es.symbol.description";import"core-js/modules/es.symbol.iterator";import"core-js/modules/es.array.from";import"core-js/modules/es.array.iterator";import"core-js/modules/es.array.slice";import"core-js/modules/es.function.name";import"core-js/modules/es.object.assign";import"core-js/modules/es.object.to-string";import"core-js/modules/es.regexp.to-string";import"core-js/modules/es.string.iterator";import"core-js/modules/web.dom-collections.iterator";function _createForOfIteratorHelper(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,u=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,n=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw n}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var numDays=[31,28,31,30,31,30,31,31,30,31,30,31],prefSumDays=[0,31,59,90,120,151,181,212,243,273,303,334];export function instanceOfSimpleDate(e){return!(!e||"object"!==_typeof(e)&&"function"!=typeof e)&&("year"in e&&"number"==typeof e.year&&"month"in e&&"number"==typeof e.month&&"day"in e&&"number"==typeof e.day)}export function instanceOfSimpleTime(e){return!(!e||"object"!==_typeof(e)&&"function"!=typeof e)&&("hours"in e&&"number"==typeof e.hours&&"minutes"in e&&"number"==typeof e.minutes&&"seconds"in e&&"number"==typeof e.seconds)}export var maxDate={year:9999,month:12,day:31};export var DateTimeHelper=function(){function e(r){_classCallCheck(this,e),this.config=r,this.minDateAboluteValue=this.dateToNumberFromZero(r.nullDate),this.maxDateValue=this.dateToNumber(maxDate),!r.leapYear1900&&0<=this.dateToNumber({year:1900,month:2,day:28})?this.epochYearZero=this.numberToSimpleDate(2).year:this.epochYearZero=this.numberToSimpleDate(1).year,this.parseDateTime=r.parseDateTime}return _createClass(e,[{key:"getWithinBounds",value:function(e){return e<=this.maxDateValue&&e>=0}},{key:"dateStringToDateNumber",value:function(e){var r=this.parseDateTimeFromFormats(e,this.config.dateFormats,this.config.timeFormats);if(void 0!==r)return(instanceOfSimpleTime(r)?this.timeToNumber(r):0)+(instanceOfSimpleDate(r)?this.dateToNumber(r):0)}},{key:"parseSingleFormat",value:function(e,r,t){var o=this.parseDateTime(e,r,t);if(!instanceOfSimpleDate(o)||(o.year>=0&&o.year<100&&(o.year<this.getNullYear()?o.year+=2e3:o.year+=1900),this.isValidDate(o)))return o}},{key:"parseDateTimeFromFormats",value:function(e,r,t){var o,a=_createForOfIteratorHelper(r);try{for(a.s();!(o=a.n()).done;){var n,i=o.value,u=_createForOfIteratorHelper(t);try{for(u.s();!(n=u.n()).done;){var s=n.value,m=this.parseSingleFormat(e,i,s);if(void 0!==m)return m}}catch(e){u.e(e)}finally{u.f()}}}catch(e){a.e(e)}finally{a.f()}}},{key:"getNullYear",value:function(){return this.config.nullYear}},{key:"getEpochYearZero",value:function(){return this.epochYearZero}},{key:"isValidDate",value:function(e){return!(isNaN(e.year)||isNaN(e.month)||isNaN(e.day))&&(e.day===Math.round(e.day)&&e.month===Math.round(e.month)&&e.year===Math.round(e.year)&&(!(e.year<1582)&&(!(e.month<1||e.month>12)&&(!(e.day<1)&&(this.isLeapYear(e.year)&&2===e.month?e.day<=29:e.day<=numDays[e.month-1])))))}},{key:"dateToNumber",value:function(e){return this.dateToNumberFromZero(e)-this.minDateAboluteValue}},{key:"timeToNumber",value:function(e){return((e.seconds/60+e.minutes)/60+e.hours)/24}},{key:"numberToSimpleDate",value:function(e){var r=e+this.minDateAboluteValue,t=Math.floor(r/365.2425);this.dateToNumberFromZero({year:t+1,month:1,day:1})<=r?t++:this.dateToNumberFromZero({year:t-1,month:1,day:1})>r&&t--;var o=r-this.dateToNumberFromZero({year:t,month:1,day:1}),a=dayToMonth(this.isLeapYear(t)&&o>=59?o-1:o);return{year:t,month:a+1,day:o-prefSumDays[a]+1}}},{key:"numberToSimpleTime",value:function(e){e=Math.round(24*e*60*60*1e5)/864e7,e*=24;var r=Math.floor(e);e-=r,e*=60;var t=Math.floor(e);return e-=t,e*=60,{hours:r,minutes:t,seconds:Math.round(1e5*e)/1e5}}},{key:"numberToSimpleDateTime",value:function(e){return Object.assign(Object.assign({},this.numberToSimpleDate(Math.floor(e))),this.numberToSimpleTime(e%1))}},{key:"leapYearsCount",value:function(e){return Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400)+(this.config.leapYear1900&&e>=1900?1:0)}},{key:"dateToNumberFromZero",value:function(e){return 365*e.year+prefSumDays[e.month-1]+e.day-1+(e.month<=2?this.leapYearsCount(e.year-1):this.leapYearsCount(e.year))}},{key:"isLeapYear",value:function(e){return!(e%4)&&(!!(e%100)||(!(e%400)||1900===e&&this.config.leapYear1900))}}]),e}();function dayToMonth(e){var r=0;return prefSumDays[r+6]<=e&&(r+=6),prefSumDays[r+3]<=e&&(r+=3),prefSumDays[r+2]<=e?r+=2:prefSumDays[r+1]<=e&&(r+=1),r}export function endOfMonth(e){return{year:e.year,month:e.month,day:numDays[e.month-1]}}export function offsetMonth(e,r){var t=12*e.year+e.month-1+r;return{year:Math.floor(t/12),month:t%12+1,day:e.day}}
//# sourceMappingURL=/sm/271dbf5012adcafe7728099874f30018966c485d09f74d62574dd96f282898e3.map