/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/hyperformula@0.1.3/es/parser/Cache.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import"core-js/modules/es.array.iterator";import"core-js/modules/es.array.some";import"core-js/modules/es.map";import"core-js/modules/es.object.to-string";import"core-js/modules/es.string.iterator";import"core-js/modules/web.dom-collections.iterator";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}import{AstNodeType,collectDependencies}from"./";var buildCacheEntry=function(e,t,s,o){return{ast:e,relativeDependencies:t,hasVolatileFunction:s,hasStructuralChangeFunction:o}};export var Cache=function(){function e(t){_classCallCheck(this,e),this.functionRegistry=t,this.cache=new Map}return _createClass(e,[{key:"set",value:function(e,t){var s=collectDependencies(t,this.functionRegistry),o=buildCacheEntry(t,s,doesContainFunctions(t,this.functionRegistry.isFunctionVolatile),doesContainFunctions(t,this.functionRegistry.isFunctionDependentOnSheetStructureChange));return this.cache.set(e,o),o}},{key:"get",value:function(e){return this.cache.get(e)||null}},{key:"maybeSetAndThenGet",value:function(e,t){var s=this.cache.get(e);return s?s.ast:(this.set(e,t),t)}},{key:"destroy",value:function(){this.cache.clear()}}]),e}();export var doesContainFunctions=function e(t,s){switch(t.type){case AstNodeType.EMPTY:case AstNodeType.NUMBER:case AstNodeType.STRING:case AstNodeType.ERROR:case AstNodeType.ERROR_WITH_RAW_INPUT:case AstNodeType.CELL_REFERENCE:case AstNodeType.CELL_RANGE:case AstNodeType.COLUMN_RANGE:case AstNodeType.ROW_RANGE:case AstNodeType.NAMED_EXPRESSION:return!1;case AstNodeType.PERCENT_OP:case AstNodeType.PLUS_UNARY_OP:case AstNodeType.MINUS_UNARY_OP:return e(t.value,s);case AstNodeType.CONCATENATE_OP:case AstNodeType.EQUALS_OP:case AstNodeType.NOT_EQUAL_OP:case AstNodeType.LESS_THAN_OP:case AstNodeType.GREATER_THAN_OP:case AstNodeType.LESS_THAN_OR_EQUAL_OP:case AstNodeType.GREATER_THAN_OR_EQUAL_OP:case AstNodeType.MINUS_OP:case AstNodeType.PLUS_OP:case AstNodeType.TIMES_OP:case AstNodeType.DIV_OP:case AstNodeType.POWER_OP:return e(t.left,s)||e(t.right,s);case AstNodeType.PARENTHESIS:return e(t.expression,s);case AstNodeType.FUNCTION_CALL:return!!s(t.procedureName)||t.args.some(function(t){return e(t,s)})}};
//# sourceMappingURL=/sm/14adbe9446d23ad9baf7db86fe4db8ab9336238e0aa57183d59757ec00caa679.map