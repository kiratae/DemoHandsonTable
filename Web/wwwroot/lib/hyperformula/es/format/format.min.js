/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/hyperformula@0.1.3/es/format/format.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import"core-js/modules/es.symbol";import"core-js/modules/es.symbol.description";import"core-js/modules/es.symbol.iterator";import"core-js/modules/es.array.from";import"core-js/modules/es.array.iterator";import"core-js/modules/es.array.slice";import"core-js/modules/es.array.some";import"core-js/modules/es.function.name";import"core-js/modules/es.number.constructor";import"core-js/modules/es.number.to-fixed";import"core-js/modules/es.object.to-string";import"core-js/modules/es.regexp.exec";import"core-js/modules/es.regexp.to-string";import"core-js/modules/es.string.iterator";import"core-js/modules/es.string.split";import"core-js/modules/es.string.starts-with";import"core-js/modules/web.dom-collections.iterator";function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],o=!0,a=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(o=(s=i.next()).done)&&(t.push(s.value),!r||t.length!==r);o=!0);}catch(e){a=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(a)throw n}}return t}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){i=!0,n=e},f:function(){try{s||null==t.return||t.return()}finally{if(i)throw n}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}import{secondsExtendedRegexp}from"../DateTimeDefault";import{parseForDateTimeFormat,parseForNumberFormat,TokenType}from"./parser";export function format(e,r,t,o){var a=t.stringifyDateTime(o.numberToSimpleDateTime(e),r);if(void 0!==a)return a;var n=t.stringifyDuration(o.numberToSimpleTime(e),r);if(void 0!==n)return n;var s=parseForNumberFormat(r);return void 0!==s?numberFormat(s.tokens,e):r}export function padLeft(e,r){for(var t=e+"";t.length<r;)t="0"+t;return t}export function padRight(e,r){for(var t=e+"";t.length<r;)t+="0";return t}function countChars(e,r){return e.split(r).length-1}function numberFormat(e,r){for(var t="",o=0;o<e.length;++o){var a=e[o];if(a.type!==TokenType.FREE_TEXT){var n=a.value.split("."),s=n[0],i=n[1]||"",u=n[1]?".":"",l=Number(r.toFixed(i.length)).toString().split("."),m=l[0]||"",c=l[1]||"";if(s.length>m.length)m=padLeft(m,countChars(s.substr(0,s.length-m.length),"0")+m.length);t+=m+u+(c=padRight(c,countChars(i.substr(c.length,i.length-c.length),"0")+c.length))}else t+=a.value}return t}export function defaultStringifyDuration(e,r){var t=parseForDateTimeFormat(r);if(void 0!==t){var o,a="",n=_createForOfIteratorHelper(t.tokens);try{for(n.s();!(o=n.n()).done;){var s=o.value;if(s.type!==TokenType.FREE_TEXT)if(secondsExtendedRegexp.test(s.value)){var i=s.value.length-3;a+=(e.seconds<10?"0":"")+Math.round(e.seconds*Math.pow(10,i))/Math.pow(10,i)}else switch(s.value.toLowerCase()){case"h":case"hh":a+=padLeft(e.hours,s.value.length),e.hours=0;break;case"[hh]":a+=padLeft(e.hours,s.value.length-2),e.hours=0;break;case"m":case"mm":a+=padLeft(e.minutes,s.value.length),e.minutes=0;break;case"[mm]":a+=padLeft(e.minutes+60*e.hours,s.value.length-2),e.minutes=0,e.hours=0;break;case"s":case"ss":a+=padLeft(e.seconds,s.value.length);break;default:return}else a+=s.value}}catch(e){n.e(e)}finally{n.f()}return a}}export function defaultStringifyDateTime(e,r){var t=parseForDateTimeFormat(r);if(void 0!==t){for(var o=t.tokens,a="",n=!1,s=o.some(function(e){return e.type===TokenType.FORMAT&&("a/p"===e.value||"A/P"===e.value||"am/pm"===e.value||"AM/PM"===e.value)}),i=0;i<o.length;i++){var u=o[i];if(u.type!==TokenType.FREE_TEXT)if(secondsExtendedRegexp.test(u.value)){var l=u.value.length-3;a+=(e.seconds<10?"0":"")+Math.round(e.seconds*Math.pow(10,l))/Math.pow(10,l)}else switch(u.value.toLowerCase()){case"h":case"hh":n=!0,a+=padLeft(s?(e.hours+11)%12+1:e.hours,u.value.length);break;case"d":case"dd":a+=padLeft(e.day,u.value.length);break;case"s":case"ss":a+=padLeft(Math.round(e.seconds),u.value.length);break;case"m":case"mm":i+1<o.length&&o[i+1].value.startsWith(":")&&(n=!0),a+=padLeft(n?e.minutes:e.month,u.value.length),n=!0;break;case"yy":a+=padLeft(e.year%100,u.value.length);break;case"yyyy":a+=e.year;break;case"am/pm":case"a/p":var m=_slicedToArray(u.value.split("/"),2),c=m[0],p=m[1];a+=e.hours<12?c:p;break;default:return}else a+=u.value}return a}}
//# sourceMappingURL=/sm/21f81125d70f1302c96e5b132ed1e5c4e7d77e0295f3758c1ff6cb1f661d10d4.map