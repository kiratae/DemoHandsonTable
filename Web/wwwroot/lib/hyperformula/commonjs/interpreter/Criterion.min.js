/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/hyperformula@0.1.3/commonjs/interpreter/Criterion.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";require("core-js/modules/es.regexp.exec"),exports.__esModule=!0,exports.buildCriterionLambda=exports.CriterionBuilder=exports.buildCriterion=exports.CriterionType=void 0;var CriterionType,_Cell=require("../Cell");function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}exports.CriterionType=CriterionType,function(e){e.GREATER_THAN="GREATER_THAN",e.GREATER_THAN_OR_EQUAL="GREATER_THAN_OR_EQUAL",e.LESS_THAN="LESS_THAN",e.LESS_THAN_OR_EQUAL="LESS_THAN_OR_EQUAL",e.NOT_EQUAL="NOT_EQUAL",e.EQUAL="EQUAL"}(CriterionType||(exports.CriterionType=CriterionType={}));var buildCriterion=function(e,r){return{operator:e,value:r}};exports.buildCriterion=buildCriterion;var CriterionBuilder=function(){function e(r){var t,n,i,o;_classCallCheck(this,e),this.trueString=null!==(n=null===(t=r.translationPackage.getMaybeFunctionTranslation("TRUE"))||void 0===t?void 0:t.toLowerCase())&&void 0!==n?n:"true",this.falseString=null!==(o=null===(i=r.translationPackage.getMaybeFunctionTranslation("FALSE"))||void 0===i?void 0:i.toLowerCase())&&void 0!==o?o:"false"}return _createClass(e,[{key:"fromCellValue",value:function(e,r){if("string"==typeof e||"boolean"==typeof e||"number"==typeof e){var t=this.parseCriterion(e,r);if(void 0!==t)return{raw:e,lambda:buildCriterionLambda(t,r)}}}},{key:"parseCriterion",value:function(e,r){if("number"==typeof e||"boolean"==typeof e)return buildCriterion(CriterionType.EQUAL,e);if("string"==typeof e){var t,n,i=ANY_CRITERION_REGEX.exec(e);i?(n=StrToCriterionType(i[1]),t=i[2]):(n=CriterionType.EQUAL,t=e);var o=r.coerceToMaybeNumber(t),u=t.toLowerCase()===this.trueString||t.toLowerCase()!==this.falseString&&void 0;if(void 0===n)return;if(""===t)return buildCriterion(n,null);if(void 0!==o)return buildCriterion(n,o);if(n===CriterionType.EQUAL||n===CriterionType.NOT_EQUAL)return buildCriterion(n,null!=u?u:t)}}}]),e}();exports.CriterionBuilder=CriterionBuilder;var ANY_CRITERION_REGEX=/([<>=]+)(.*)/;function StrToCriterionType(e){switch(e){case">":return CriterionType.GREATER_THAN;case">=":return CriterionType.GREATER_THAN_OR_EQUAL;case"<":return CriterionType.LESS_THAN;case"<=":return CriterionType.LESS_THAN_OR_EQUAL;case"<>":return CriterionType.NOT_EQUAL;case"=":return CriterionType.EQUAL;default:return}}var buildCriterionLambda=function(e,r){switch(e.operator){case CriterionType.GREATER_THAN:return"number"==typeof e.value?function(t){return"number"==typeof t&&r.floatCmp(t,e.value)>0}:function(e){return!1};case CriterionType.GREATER_THAN_OR_EQUAL:return"number"==typeof e.value?function(t){return"number"==typeof t&&r.floatCmp(t,e.value)>=0}:function(e){return!1};case CriterionType.LESS_THAN:return"number"==typeof e.value?function(t){return"number"==typeof t&&r.floatCmp(t,e.value)<0}:function(e){return!1};case CriterionType.LESS_THAN_OR_EQUAL:return"number"==typeof e.value?function(t){return"number"==typeof t&&r.floatCmp(t,e.value)<=0}:function(e){return!1};case CriterionType.EQUAL:return"number"==typeof e.value?function(t){if("number"==typeof t)return 0===r.floatCmp(t,e.value);if("string"==typeof t){if(""===t)return!1;var n=r.coerceToMaybeNumber(t);return void 0!==n&&0===r.floatCmp(n,e.value)}return!1}:"string"==typeof e.value?r.eqMatcherFunction(e.value):"boolean"==typeof e.value?function(r){return"boolean"==typeof r&&r===e.value}:function(e){return e===_Cell.EmptyValue};case CriterionType.NOT_EQUAL:return"number"==typeof e.value?function(t){if("number"==typeof t)return 0!==r.floatCmp(t,e.value);if("string"==typeof t){if(""===t)return!0;var n=r.coerceToMaybeNumber(t);return void 0===n||0!==r.floatCmp(n,e.value)}return!0}:"string"==typeof e.value?r.neqMatcherFunction(e.value):"boolean"==typeof e.value?function(r){return"boolean"!=typeof r||r!==e.value}:function(e){return e!==_Cell.EmptyValue}}};exports.buildCriterionLambda=buildCriterionLambda;
//# sourceMappingURL=/sm/4f90637b96fd2d9f86d8d3cdfbe3120fcdfcd92ff696530078050dfe3f29d23d.map