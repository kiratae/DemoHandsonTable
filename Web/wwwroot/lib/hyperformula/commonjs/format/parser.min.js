/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/hyperformula@0.1.3/commonjs/format/parser.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";require("core-js/modules/es.array.every"),require("core-js/modules/es.regexp.exec"),require("core-js/modules/es.string.starts-with"),exports.__esModule=!0,exports.formatToken=formatToken,exports.parseForDateTimeFormat=parseForDateTimeFormat,exports.parseForNumberFormat=parseForNumberFormat,exports.parse=parse,exports.isEscapeToken=isEscapeToken,exports.FormatExpressionType=exports.TokenType=void 0;var TokenType,FormatExpressionType,dateFormatRegex=/(\\.|dd|DD|d|D|mm|MM|m|M|YYYY|YY|yyyy|yy|HH|hh|H|h|ss(\.(0+|s+))?|s|AM\/PM|am\/pm|A\/P|a\/p|\[mm]|\[MM]|\[hh]|\[HH])/g,numberFormatRegex=/(\\.|[#0]+(\.[#0]*)?)/g;function formatToken(e,r){return{type:e,value:r}}function matchDateFormat(e){dateFormatRegex.lastIndex=0;var r,o=[];do{null!==(r=dateFormatRegex.exec(e))&&o.push(r)}while(r);return o}function matchNumberFormat(e){numberFormatRegex.lastIndex=0;var r=numberFormatRegex.exec(e);return null!==r?[r]:[]}function createTokens(e,r){for(var o=[],t=0,n=0;n<e.length;++n){var s=e[n];if(s.index!==t){var a=r.substr(t,s.index-t);o.push(formatToken(TokenType.FREE_TEXT,a))}s[0].startsWith("\\")?o.push(formatToken(TokenType.FREE_TEXT,s[0])):o.push(formatToken(TokenType.FORMAT,s[0])),t=s.index+s[0].length}var T=e[e.length-1];if(T.index+T[0].length<r.length){var p=r.substr(T.index+T[0].length,r.length);o.push(formatToken(TokenType.FREE_TEXT,p))}return o}function parseForDateTimeFormat(e){var r=matchDateFormat(e);return r.every(function(e){return isEscapeToken(e)})?void 0:{type:FormatExpressionType.DATE,tokens:createTokens(r,e)}}function parseForNumberFormat(e){var r=matchNumberFormat(e);return r.every(function(e){return isEscapeToken(e)})?void 0:{type:FormatExpressionType.NUMBER,tokens:createTokens(r,e)}}function parse(e){var r,o;return null!==(o=null!==(r=parseForDateTimeFormat(e))&&void 0!==r?r:parseForNumberFormat(e))&&void 0!==o?o:{type:FormatExpressionType.STRING,tokens:[{type:TokenType.FREE_TEXT,value:e}]}}function isEscapeToken(e){return e[0].startsWith("\\")}exports.TokenType=TokenType,function(e){e.FORMAT="FORMAT",e.FREE_TEXT="FREE_TEXT"}(TokenType||(exports.TokenType=TokenType={})),exports.FormatExpressionType=FormatExpressionType,function(e){e.DATE="DATE",e.NUMBER="NUMBER",e.STRING="STRING"}(FormatExpressionType||(exports.FormatExpressionType=FormatExpressionType={}));
//# sourceMappingURL=/sm/8dbbb488fba6ae01b9f4bf060243fdaa25dbb180657c544c74e5b632cb3bb949.map